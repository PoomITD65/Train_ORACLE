# Index

### เทคนิคการทำ Index

#### เลือก Column ที่มีค่า distinct (ค่าที่ไม่ซ้ำกัน)
#### column ที่มีค่าไม่ซ้ำแค่ 2 ค่า หรือน้อยมากๆ ก็แนะนำว่าอ่าน Full table ไปเลยดีกว่าเร็วกว่าแน่นอน
###  สูตรตามนี้ DISTINCT_KEYS / NUM_ROWS

```text
ตัวอย่างในการเลือก index ที่ดี
       ถ้า Table ของเรามีข้อมูล 100,000 record และใน column ที่เราต้องการจะนำมาทำ index มี จำนวน 88,000 record ที่มีค่าไม่ซ้ำกัน
       หลังจากนั้นเราเอามาเข้าสูตร  88,000 / 100,000 = 0.88

       โดยถ้าผลลัพธ์เข้าใกล้ 1 เท่าไรก็เข้าข่ายที่เป็น index ที่ดีได้
```
```text
ตัวอย่างในการเลือก index ที่ไม่ดี
       ถ้า Table ของเรามีข้อมูล 100,000 record และใน column ที่เราต้องการจะนำมาทำ index มี จำนวน 500 record ที่มีค่าไม่ซ้ำกัน
       หลังจากนั้นเราเอามาเข้าสูตร  500 / 100,000 = 0.005 

       โดยถ้าผลลัพธ์ออกมาแบบนี้ เราอ่านแบบ full table จะมีประสิทธิภาพมากกว่าการใช้ index เพราะข้อมูลที่เราต้องการนั้นเป็นส่วนมากใน Table
```
## ****หมายเหตุ
```text
แต่อย่าลืมว่า index มีผลช่วยเพิ่ม performance ของการ select, update, delete แต่จะทำให้การ insert ช้าลงด้วยเพราะทุกครั้งที่ insert จะต้องคอย sort ทุกครั้งยิ่งมีเยอะๆ
เพราะฉะนั้นขอให้เลือก index เฉพาะที่ต้องใช้งานจริงๆ เพื่อที่จะได้ไม่ต้องเปลืองเนื้อที่โดยใช่เหตุด้วย
```
